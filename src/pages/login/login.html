<!--
  Generated template for the LoginPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Login</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
    <form (submit)='onSubmit($event)'>
        <ion-list>

          <!-- Success message if account was successfully created -->
          <ion-item *ngIf='createdUser' no-lines>
              <p ion-text color='success'>Account created successfully</p>
          </ion-item>
      
          <!-- Username input -->
          <ion-item>
            <ion-label floating>Username</ion-label>
            <ion-input type='text' name='username'
                       #usernameInput='ngModel' [(ngModel)]='authRequest.username' required></ion-input>
          </ion-item>
      
          <!-- Error message displayed if the username is invalid -->
          <ion-item *ngIf='usernameInput.invalid && usernameInput.dirty' no-lines>
            <p ion-text color='danger'>Username is required.</p>
          </ion-item>
      
          <!-- Password input -->
          <ion-item>
            <ion-label floating>Password</ion-label>
            <ion-input type='password' name='password'
                       #passwordInput='ngModel' [(ngModel)]='authRequest.password' required></ion-input>
          </ion-item>
      
          <!-- Error message displayed if the password is invalid -->
          <ion-item *ngIf='passwordInput.invalid && passwordInput.dirty' no-lines>
            <p ion-text color='danger'>Password is required.</p>
          </ion-item>
      
        </ion-list>
      
        <div padding>
      
          <!-- Submit button -->
          <button type='submit' [disabled]='form.invalid' ion-button block>Log in</button>

          <!-- Create account button -->
          <button type='submit' ion-button block (click)="createAccount()">Create Account</button>
      
          <!-- Error message displayed if the login failed -->
          <p *ngIf='loginError' ion-text color='danger'>Username or password is invalid.</p>
      
        </div>
      </form>
</ion-content>
